<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Simple HTML5 File</title>
	<script type="text/javascript" charset="UTF-8">
		//这个函数将在页面完全加载后调用
		function pageLoaded() {
			// 获取canvas对象的引用
			var canvas = document.getElementById('testcanvas');
			// 获取该canvas的2D绘图环境
			var context = canvas.getContext('2d');
			// 绘图代码将出现在这里

			// 绘制图像

			// 获取图片对象的引用
			var image = document.getElementById('spaceship');

			// 在(0,350)处绘制图片
			context.drawImage(image, 0, 350);

			// 缩小图片至原来一半的大小
			context.drawImage(image, 0, 400, 100, 25);

			// 绘制图片的局部
			context.drawImage(image, 0, 0, 60, 50, 0, 420, 60, 50);

			//平移和旋转
			//平移原点至物体的位置
			context.translate(250, 370);
			//以新原点为中心旋转60度
			context.rotate(Math.PI / 3);
			context.drawImage(image, 0, 0, 60, 50, -30, -25, 60, 50);
			//通过反向旋转和平移恢复原点状态
			context.rotate(-Math.PI / 3);
			context.translate(-240, -370);

			//平移原点至物体的位置
			context.translate(300, 370);
			//以新原点为中心旋转
			context.rotate(3 * Math.PI / 4);
			context.drawImage(image, 0, 0, 60, 50, -30, -25, 60, 50);
			//通过反向旋转和平移恢复原点状态
			context.rotate(-3 * Math.PI / 4);
			context.translate(-300, -370);

		}
	</script>
</head>

<body onload="pageLoaded()">
	<canvas width="600" height="480" id="testcanvas" style="border:1px solid black;">
		Your browser does not support the HTML5 Canvas tag. Please shift to a newer browser
	</canvas>
	<br>
	<img src="img/spaceship.png" id="spaceship">

</body>

</html>
<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Simple HTML5 File</title>
	<script type="text/javascript" charset="UTF-8">
		//这个函数将在页面完全加载后调用
		function pageLoaded() {
			// 获取canvas对象的引用
			var canvas = document.getElementById('testcanvas');
			// 获取该canvas的2D绘图环境
			var context = canvas.getContext('2d');
			// 绘图代码将出现在这里

		}
	</script>
	<script>
		var image = new Image();
		image.src = 'image/spaceship.png';
	</script>
	<script>
		image.onload = function () {
			alert('Image finished loading');

		}

	</script>
	<script>
		var imageLoader = {
			loaded: true,
			loadedImage: 0,
			totalImages: 0,
			load: function (url) {
				this.totalImages++;
				this.load = false;
				var image = new Image();
				image.src = url;
				image.onload = function () {
					imageLoader.loadedImages++;
					if (imageLoader.loadedImages === imageLoader.totalImages) {
						image.onload = true;
					}
					image.onload = undefined;
				}
				return image;
			}
		}
	</script>
</head>

<body onload="pageLoaded()">
	<canvas width="600" height="400" id="testcanvas" style="border:1px solid black;">
		Your browser does not support the HTML5 Canvas tag. Please shift to a newer browser
	</canvas>

</body>

</html>